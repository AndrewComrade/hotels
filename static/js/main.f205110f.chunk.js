(this["webpackJsonprocket-science"]=this["webpackJsonprocket-science"]||[]).push([[0],{107:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n.n(a),i=n(12),o=n.n(i),s=n(34),u=n(31),l=n(75),j=n(11),d="SET_HOTELS",b="FILTER_HOTELS",O="RESET_FILTERS",p="SET_CURRENT_PAGE",f={hotels:[],filteredHotels:[],isLoaded:!1,perPage:3,currentPage:1},h=Object(u.c)({hotelsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(j.a)(Object(j.a)({},e),{},{hotels:t.payload,filteredHotels:t.payload,isLoaded:!0});case p:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.payload});case O:return Object(j.a)(Object(j.a)({},e),{},{filteredHotels:e.hotels});case b:var n=t.payload,r=n.country,a=n.types,c=n.stars,i=n.reviewsAmount,o=n.priceRange,s=e.hotels;return r&&(s=s.filter((function(e){return e.country===r}))),a&&a.length>0&&(s=s.filter((function(e){return a.includes(e.type)}))),c&&c.length>0&&(s=s.filter((function(e){return c.includes(e.stars)}))),i>0&&(s=s.filter((function(e){return e.reviews_amount>=i}))),o&&o.length>0&&(s=s.filter((function(e){return e.min_price>=o[0]&&e.min_price<=o[1]}))),Object(j.a)(Object(j.a)({},e),{},{filteredHotels:s});default:return Object(j.a)({},e)}}}),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,g=Object(u.e)(h,x(Object(u.a)(l.a)));window.store=g;var v=g,m=n(23),y=n(24),R=(n(107),n(179)),C=n(182),w=n(56),_=n(84),E=n(181),S=n(186),k=function(e){var t=e.countries,n=e.onChange,a=e.value,c=function(e,t){n(t)};return Object(r.jsx)(E.a,{value:a,onAbort:c,onChange:c,renderInput:function(e){return Object(r.jsx)(S.a,Object(j.a)({label:"\u0421\u0442\u0440\u0430\u043d\u0430",variant:"outlined"},e))},options:t})},T=n(171),P=n(169),I=n(170),L=n(180),q=n(187),A=n(183),H=n(172),M=Object(T.a)((function(){return{formControl:{width:"100%"}}})),N=function(e){var t=e.types,n=e.value,a=e.onChange,c=M();return Object(r.jsxs)(P.a,{variant:"outlined",className:c.formControl,children:[Object(r.jsx)(I.a,{id:"types-label",children:"\u0422\u0438\u043f"}),Object(r.jsx)(L.a,{multiple:!0,label:"\u0422\u0438\u043f",renderValue:function(e){return e.join(", ")},onChange:function(e){a(e.target.value)},value:n,children:t.map((function(e){return Object(r.jsxs)(q.a,{value:e,children:[Object(r.jsx)(A.a,{checked:n.indexOf(e)>-1}),Object(r.jsx)(H.a,{primary:e})]},e)}))})]})},F=n(50),U=n(125),B=n(173),D=n(174),J=function(e){var t=e.stars,n=e.onChange,a=e.value,c=function(e){var t=e.target,r=t.name,c=t.checked;n(Object(j.a)(Object(j.a)({},a),{},Object(F.a)({},r,c)))};return Object(r.jsxs)(P.a,{component:"fieldset",children:[Object(r.jsx)(U.a,{component:"legend",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0432\u0451\u0437\u0434"}),Object(r.jsx)(B.a,{children:t&&t.map((function(e,t){return Object(r.jsx)(D.a,{control:Object(r.jsx)(A.a,{checked:!!a[e],onChange:c,name:e.toString()}),label:e},t)}))})]})},V=n(167),X=function(e){var t=e.value,n=e.onChange;return Object(r.jsxs)(P.a,{variant:"outlined",children:[Object(r.jsx)(I.a,{children:"\u041a\u043e\u043b-\u0432\u043e \u043e\u0442\u0437\u044b\u0432\u043e\u0432 (\u043e\u0442):"}),Object(r.jsx)(V.a,{variant:"outlined",value:t,onChange:function(e){n(parseInt(e.target.value))},placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0442 10",inputProps:{type:"number",step:"1",min:"0"}})]})},z=n(188),G=Object(T.a)((function(){return{formControl:{width:"80%"}}})),K=function(e){var t=e.onChange,n=e.priceRange,a=e.maxPrice,c=G();!n.length>0&&(n=[0,a]);var i=[{value:n[0],label:n[0]+" RUB"},{value:n[1],label:n[1]+" RUB"}];return Object(r.jsxs)(P.a,{className:c.formControl,children:[Object(r.jsx)(U.a,{children:"\u0426\u0435\u043d\u0430"}),Object(r.jsx)(z.a,{min:0,max:a,step:500,value:n,onChange:function(e,n){t(n)},"aria-labelledby":"range-slider",marks:i})]})},Q=n(175),W=n(80),Y=n.n(W),Z=function(e){return{type:d,payload:e}},$=function(e){return{type:p,payload:e}};function ee(){var e=Object(m.a)(["\n\tmargin-bottom: 30px;\n"]);return ee=function(){return e},e}function te(){var e=Object(m.a)(["\n\tdisplay:flex;\n\tflex-direction: column;\t\n"]);return te=function(){return e},e}var ne=y.a.div(te()),re=y.a.div(ee()),ae=function(e,t){return e=e.map((function(e){return e[t]})),e=Object(_.a)(new Set(e))},ce=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.hotelsReducer.hotels})),n=c.a.useState({country:null,types:[],stars:{},reviewsAmount:"",priceRange:[]}),a=Object(w.a)(n,2),i=a[0],o=a[1],u=ae(t,"country").sort(),l=ae(t,"type"),d=ae(t,"stars").sort(),p=1e3*Math.ceil(Math.max.apply(Math,ae(t,"min_price"))/1e3);return Object(r.jsxs)(ne,{children:[Object(r.jsx)(re,{children:Object(r.jsx)(k,{countries:u,onChange:function(e){o(Object(j.a)(Object(j.a)({},i),{},{country:e}))},value:i.country})}),Object(r.jsx)(re,{children:Object(r.jsx)(N,{types:l,onChange:function(e){o(Object(j.a)(Object(j.a)({},i),{},{types:e}))},value:i.types})}),Object(r.jsx)(re,{children:Object(r.jsx)(J,{stars:d,onChange:function(e){o(Object(j.a)(Object(j.a)({},i),{},{stars:e}))},value:i.stars})}),Object(r.jsx)(re,{children:Object(r.jsx)(X,{onChange:function(e){o(Object(j.a)(Object(j.a)({},i),{},{reviewsAmount:e}))},value:i.reviewsAmount})}),Object(r.jsx)(re,{children:Object(r.jsx)(K,{onChange:function(e){o(Object(j.a)(Object(j.a)({},i),{},{priceRange:e}))},priceRange:i.priceRange,maxPrice:p})}),Object(r.jsxs)(re,{children:[Object(r.jsx)(Q.a,{onClick:function(){var t=Object.keys(i.stars).filter((function(e){return i.stars[e]})).map((function(e){return parseInt(e)}));e(function(e){return{type:b,payload:e}}(Object(j.a)(Object(j.a)({},i),{},{stars:t}))),e($(1))},variant:"contained",children:"Filter"}),Object(r.jsx)(Q.a,{onClick:function(){o({country:null,types:[],stars:{},reviewsAmount:"",priceRange:[]}),e({type:O,payload:{}})},variant:"contained",children:"Reset filter"})]})]})},ie=n(6),oe=n.n(ie),se=n(184),ue=n(176),le=n(177),je=n(178);function de(){var e=Object(m.a)(["\n\tmargin-left: 15px;\n\tdisplay:flex;\n\talign-items: center;\n"]);return de=function(){return e},e}function be(){var e=Object(m.a)(["\n\tdisplay:flex;\n\talign-items: center;\n"]);return be=function(){return e},e}function Oe(){var e=Object(m.a)(["\n"]);return Oe=function(){return e},e}function pe(){var e=Object(m.a)(["\n\tdisplay:flex;\n\tflex-direction: column;\n"]);return pe=function(){return e},e}function fe(){var e=Object(m.a)(["\n\tmargin-bottom: 15px;\n\tpadding: 10px 20px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n\tcolumn-gap: 20px;\n\tlist-style: none;\n\tborder: 1px solid rgba(34, 60, 80, 0.5);\n\tborder-radius: 20px;\n\tbox-shadow: 0px 5px 10px 2px rgba(34, 60, 80, 0.2);\n"]);return fe=function(){return e},e}var he=y.a.li(fe()),xe=y.a.div(pe()),ge=Object(y.a)(xe)(Oe()),ve=y.a.div(be()),me=y.a.span(de()),ye=function(e){var t=e.name,n=e.stars,a=e.type,i=e.reviews_amount,o=e.country,s=e.description,u=e.min_price,l=e.currency,j=c.a.useState(!1),d=Object(w.a)(j,2),b=d[0],O=d[1];return Object(r.jsxs)(he,{children:[Object(r.jsxs)(xe,{children:[Object(r.jsx)("h3",{children:t}),Object(r.jsxs)(ve,{children:[Object(r.jsx)(se.a,{value:n,readOnly:!0}),Object(r.jsx)(me,{children:a}),Object(r.jsxs)(me,{children:["\u041a\u043e\u043b-\u0432\u043e \u043e\u0442\u0437\u044b\u0432\u043e\u0432: ",i]}),Object(r.jsxs)(me,{children:[Object(r.jsx)(ue.a,{fontSize:"small"}),o]})]}),Object(r.jsx)("p",{children:s})]}),Object(r.jsxs)(ge,{children:[Object(r.jsxs)("p",{children:[100*Math.ceil(Math.floor(u)/100)," ",l]}),Object(r.jsx)("span",{children:"\u0417\u0430 1 \u043d\u043e\u0447\u044c"}),Object(r.jsx)(Q.a,{onClick:function(){return O(!b)},variant:"contained",color:b?"secondary":"primary",startIcon:b?Object(r.jsx)(le.a,{}):Object(r.jsx)(je.a,{}),children:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})};function Re(){var e=Object(m.a)(["\n\tmargin: 0;\n\tpadding: 0;\n"]);return Re=function(){return e},e}function Ce(){var e=Object(m.a)(["\n\tmargin: 0 auto;\n\tpadding: 0;\n\tmax-width: 1170px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 2fr;\n\tgrid-column-gap: 50px;\n\theight: 100vh;\n"]);return Ce=function(){return e},e}ye.prooTypes={name:oe.a.string.isRequired,stars:oe.a.number.isRequired,type:oe.a.string.isRequired,reviews_amount:oe.a.number.isRequired,country:oe.a.string.isRequired,min_price:oe.a.number.isRequired,currency:oe.a.string.isRequired};var we=y.a.div(Ce()),_e=y.a.ul(Re()),Ee=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.hotelsReducer})),n=t.isLoaded,a=t.perPage,i=t.currentPage,o=t.filteredHotels,u=Math.ceil(o.length/a);c.a.useEffect((function(){e((function(e){Y.a.get("https://andrewcomrade.github.io/hotels/hotels.json").then((function(t){var n=t.data.hotels;e(Z(n))}))}))}),[]);return Object(r.jsxs)(we,{children:[!!n&&Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(ce,{}),Object(r.jsxs)(_e,{children:[o&&o.slice(a*(i-1),a*i).map((function(e){return Object(r.jsx)(ye,Object(j.a)({},e),"".concat(e.name))})),0===o.length&&Object(r.jsx)("div",{children:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),o.length>0&&Object(r.jsx)(C.a,{onChange:function(t,n){e($(n))},page:i,count:u})]})]}),!n&&Object(r.jsx)(R.a,{})]})};o.a.render(Object(r.jsx)(s.a,{store:v,children:Object(r.jsx)(Ee,{})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.f205110f.chunk.js.map